"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2051],{6622:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>c,toc:()=>d});var r=s(4848),t=s(8453);const i={},o="Docker And Kubernetes",c={id:"The Backend Implementation/docker_kubernetes",title:"Docker And Kubernetes",description:"architecture diagram",source:"@site/versioned_docs/version-1.2/The Backend Implementation/5-docker_kubernetes.md",sourceDirName:"The Backend Implementation",slug:"/The Backend Implementation/docker_kubernetes",permalink:"/docs/1.2/The Backend Implementation/docker_kubernetes",draft:!1,unlisted:!1,tags:[],version:"1.2",sidebarPosition:5,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Databases",permalink:"/docs/1.2/The Backend Implementation/databases"}},l={},d=[{value:"Table of Contents",id:"table-of-contents",level:2},{value:"Docker Compose",id:"docker-compose",level:2},{value:"Docker Containers",id:"docker-containers",level:3},{value:"Docker Networks",id:"docker-networks",level:3},{value:"Docker Volumes",id:"docker-volumes",level:3},{value:"Kubernetes",id:"kubernetes",level:2}];function a(e){const n={a:"a",h1:"h1",h2:"h2",h3:"h3",hr:"hr",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"docker-and-kubernetes",children:"Docker And Kubernetes"}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)("p",{align:"center",children:(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"architecture diagram",src:s(8154).A+"",width:"1920",height:"889"})})}),"\n",(0,r.jsx)("p",{align:"center",children:(0,r.jsx)(n.p,{children:"The containarization technologies utilized"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"#",children:"Docker And Kubernetes"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#table-of-contents",children:"Table of Contents"})}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"#docker-compose",children:"Docker Compose"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#docker-containers",children:"Docker Containers"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#docker-networks",children:"Docker Networks"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#docker-volumes",children:"Docker Volumes"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#kubernetes",children:"Kubernetes"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"docker-compose",children:"Docker Compose"}),"\n",(0,r.jsx)("p",{align:"center",children:(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"architecture diagram",src:s(1793).A+"",width:"1920",height:"606"})})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://docs.docker.com/compose/",children:"Docker Compose"})," was used as the primary ",(0,r.jsx)(n.strong,{children:"container orchestrator"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Docker Compose allows us to define all the necessary deployment parameters, such as ",(0,r.jsx)(n.strong,{children:"ports"}),", ",(0,r.jsx)(n.strong,{children:"volumes"})," and image ",(0,r.jsx)(n.strong,{children:"versions"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["It also allows us to ",(0,r.jsx)(n.strong,{children:"manage"}),", ",(0,r.jsx)(n.strong,{children:"launch"})," and ",(0,r.jsx)(n.strong,{children:"stop"})," all the containers at once."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"docker-containers",children:"Docker Containers"}),"\n",(0,r.jsx)("p",{align:"center",children:(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"architecture diagram",src:s(4750).A+"",width:"1920",height:"606"})})}),"\n",(0,r.jsx)(n.p,{children:"For the dockerization of our application, the following containers were defined:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Application"})," (frontend)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Api Instance"})," (multiple can be created at once)"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Load Balancer"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"MongoDB"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"MariaDB"})}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"docker-networks",children:"Docker Networks"}),"\n",(0,r.jsxs)(n.p,{children:["Another advantage of docker compose is the ability to create multiple ",(0,r.jsx)(n.strong,{children:"separate networks between containers"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"In our application the following networks were created:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"frontend_network"})," (App \u21c4 Frontend Server)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"backend_network"})," (API Instances \u21c4 Databases)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"request_network"})," (Load Balancer \u21c4 API Instances)"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"docker-volumes",children:"Docker Volumes"}),"\n",(0,r.jsxs)(n.p,{children:["Both MongoDB and the Cloud Service require the use of volumes, and the Cloud Service's volume must be ",(0,r.jsx)(n.strong,{children:"mapped to the host's filesystem"})," (bind volume)."]}),"\n",(0,r.jsx)(n.p,{children:"In our application the following volumes were created:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"mongodbdata"})," (MongoDB Data)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"file-bind"})," (Bind volume that utilizes the host's filesystem, which is then managed by the cloud server)"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"kubernetes",children:"Kubernetes"}),"\n",(0,r.jsx)("p",{align:"center",children:(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"architecture diagram",src:s(738).A+"",width:"1920",height:"606"})})}),"\n",(0,r.jsxs)(n.p,{children:["A ",(0,r.jsx)(n.a,{href:"https://kubernetes.io/",children:"Kubernetes"})," implementation was ",(0,r.jsx)(n.strong,{children:"partially implemented"}),", but would require more work to be put into it in order to be production ready."]}),"\n",(0,r.jsxs)(n.p,{children:["The specific kubernetes distribuition used was the simpler ",(0,r.jsx)(n.a,{href:"https://k3s.io/",children:"K3s"}),", providing all the required functionality at a smaller cost of setup time."]}),"\n",(0,r.jsxs)(n.p,{children:["Since the final production environment will only consist of a ",(0,r.jsx)(n.strong,{children:"single server"}),", the kubernete's main feature of load balancing between machines would not be of any use."]}),"\n",(0,r.jsxs)(n.p,{children:["The ability to ",(0,r.jsx)(n.strong,{children:"detect crashes on containers"})," and ",(0,r.jsx)(n.strong,{children:"relaunch the affected service(s)"})," is very useful to our application, but more discussion needs to be had in order to determine if this is a priority for our system."]}),"\n",(0,r.jsxs)(n.p,{children:["The final production version will include a ",(0,r.jsx)(n.strong,{children:"kubernetes file"})," which will launch the containers and do the appropriate load balancing, but more ",(0,r.jsx)(n.strong,{children:"testing must be done"})," in order to apply the changes to production."]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},1793:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/docker-compose-766664c1e24cb855ca0ee3c6bdbf5aa6.png"},4750:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/docker-55cd06fff5815ba3d31837e367fcca3f.png"},8154:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/docker_all-9d49e0d302c6bb1eb0877813b260a9dc.png"},738:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/kubernetes-c334eecdea976e729361720cfce38033.png"},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>c});var r=s(6540);const t={},i=r.createContext(t);function o(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);